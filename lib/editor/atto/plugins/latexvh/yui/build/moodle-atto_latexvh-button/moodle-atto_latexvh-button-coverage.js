if (typeof __coverage__ === 'undefined') { __coverage__ = {}; }
if (!__coverage__['build/moodle-atto_latexvh-button/moodle-atto_latexvh-button.js']) {
   __coverage__['build/moodle-atto_latexvh-button/moodle-atto_latexvh-button.js'] = {"path":"build/moodle-atto_latexvh-button/moodle-atto_latexvh-button.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":38},"end":{"line":1,"column":57}}},"2":{"name":"(anonymous_2)","line":12,"loc":{"start":{"line":12,"column":15},"end":{"line":12,"column":29}}},"3":{"name":"(anonymous_3)","line":24,"loc":{"start":{"line":24,"column":17},"end":{"line":24,"column":28}}},"4":{"name":"(anonymous_4)","line":34,"loc":{"start":{"line":34,"column":22},"end":{"line":34,"column":47}}},"5":{"name":"(anonymous_5)","line":41,"loc":{"start":{"line":41,"column":36},"end":{"line":41,"column":55}}},"6":{"name":"(anonymous_6)","line":51,"loc":{"start":{"line":51,"column":15},"end":{"line":51,"column":25}}},"7":{"name":"(anonymous_7)","line":52,"loc":{"start":{"line":52,"column":16},"end":{"line":52,"column":32}}},"8":{"name":"(anonymous_8)","line":53,"loc":{"start":{"line":53,"column":19},"end":{"line":53,"column":36}}},"9":{"name":"(anonymous_9)","line":59,"loc":{"start":{"line":59,"column":17},"end":{"line":59,"column":33}}},"10":{"name":"(anonymous_10)","line":64,"loc":{"start":{"line":64,"column":31},"end":{"line":64,"column":45}}},"11":{"name":"(anonymous_11)","line":70,"loc":{"start":{"line":70,"column":31},"end":{"line":70,"column":51}}},"12":{"name":"(anonymous_12)","line":76,"loc":{"start":{"line":76,"column":44},"end":{"line":76,"column":59}}},"13":{"name":"(anonymous_13)","line":84,"loc":{"start":{"line":84,"column":17},"end":{"line":84,"column":27}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":109,"column":61}},"2":{"start":{"line":10,"column":0},"end":{"line":10,"column":35}},"3":{"start":{"line":12,"column":0},"end":{"line":14,"column":15}},"4":{"start":{"line":13,"column":4},"end":{"line":13,"column":77}},"5":{"start":{"line":16,"column":0},"end":{"line":16,"column":68}},"6":{"start":{"line":17,"column":0},"end":{"line":17,"column":73}},"7":{"start":{"line":18,"column":0},"end":{"line":18,"column":96}},"8":{"start":{"line":19,"column":0},"end":{"line":19,"column":32}},"9":{"start":{"line":20,"column":0},"end":{"line":20,"column":49}},"10":{"start":{"line":22,"column":0},"end":{"line":107,"column":3}},"11":{"start":{"line":25,"column":8},"end":{"line":31,"column":11}},"12":{"start":{"line":35,"column":8},"end":{"line":35,"column":27}},"13":{"start":{"line":38,"column":8},"end":{"line":38,"column":61}},"14":{"start":{"line":39,"column":8},"end":{"line":39,"column":63}},"15":{"start":{"line":41,"column":8},"end":{"line":46,"column":23}},"16":{"start":{"line":42,"column":12},"end":{"line":45,"column":13}},"17":{"start":{"line":44,"column":16},"end":{"line":44,"column":46}},"18":{"start":{"line":48,"column":8},"end":{"line":48,"column":27}},"19":{"start":{"line":52,"column":8},"end":{"line":56,"column":46}},"20":{"start":{"line":53,"column":12},"end":{"line":55,"column":14}},"21":{"start":{"line":54,"column":16},"end":{"line":54,"column":63}},"22":{"start":{"line":60,"column":8},"end":{"line":60,"column":26}},"23":{"start":{"line":62,"column":8},"end":{"line":62,"column":46}},"24":{"start":{"line":64,"column":8},"end":{"line":68,"column":11}},"25":{"start":{"line":65,"column":12},"end":{"line":65,"column":35}},"26":{"start":{"line":67,"column":12},"end":{"line":67,"column":60}},"27":{"start":{"line":70,"column":8},"end":{"line":74,"column":11}},"28":{"start":{"line":71,"column":12},"end":{"line":71,"column":35}},"29":{"start":{"line":73,"column":12},"end":{"line":73,"column":65}},"30":{"start":{"line":76,"column":8},"end":{"line":79,"column":11}},"31":{"start":{"line":77,"column":12},"end":{"line":77,"column":79}},"32":{"start":{"line":78,"column":12},"end":{"line":78,"column":57}},"33":{"start":{"line":81,"column":8},"end":{"line":81,"column":22}},"34":{"start":{"line":85,"column":8},"end":{"line":85,"column":25}},"35":{"start":{"line":87,"column":8},"end":{"line":91,"column":11}},"36":{"start":{"line":93,"column":8},"end":{"line":95,"column":9}},"37":{"start":{"line":94,"column":12},"end":{"line":94,"column":48}},"38":{"start":{"line":97,"column":8},"end":{"line":100,"column":100}},"39":{"start":{"line":102,"column":8},"end":{"line":102,"column":44}},"40":{"start":{"line":103,"column":8},"end":{"line":103,"column":24}},"41":{"start":{"line":105,"column":8},"end":{"line":105,"column":57}}},"branchMap":{"1":{"line":42,"type":"if","locations":[{"start":{"line":42,"column":12},"end":{"line":42,"column":12}},{"start":{"line":42,"column":12},"end":{"line":42,"column":12}}]},"2":{"line":93,"type":"if","locations":[{"start":{"line":93,"column":8},"end":{"line":93,"column":8}},{"start":{"line":93,"column":8},"end":{"line":93,"column":8}}]}},"code":["(function () { YUI.add('moodle-atto_latexvh-button', function (Y, NAME) {","","/*"," * @package    atto_latexvh"," * @copyright  2016 primat.org"," * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later"," * @extends M.editor_atto.EditorPlugin"," */","","var COMPONENTNAME = 'atto_latexvh';","","var uncache = (function(date){","    return date.getFullYear() + '.' + date.getMonth() + '.' + date.getDate();","})(new Date());","","var IFrame_URL = 'http://primat.org/moodle/index.html?v=' + uncache;","var IFrameBridge_URL = 'http://primat.org/moodle/bridge.js?v=' + uncache;","var IFrameStyle = 'width: 1225px; margin: -22px -7px -65px -25px; height: 572px; border: none;';","var IFrameID = 'latexvh_iframe';","var ErrorLoadMessage = 'IFrameBridge not loaded';","","Y.namespace('M.atto_latexvh').Button = Y.Base.create('button', Y.M.editor_atto.EditorPlugin, [], {","","    initializer: function() {","        this.addButton({","            icon: 'btn-icon',","            iconComponent: 'atto_latexvh',","            buttonName: 'btn-icon',","            callback: this._displayDialogue,","            callbackArgs: 'btn-icon'","        });","    },","","    _displayDialogue: function(e, clickedIcon) {","        e.preventDefault();","","","        YUI.namespace(COMPONENTNAME).host = this.get('host');","        YUI.namespace(COMPONENTNAME).clickedIcon = clickedIcon;","","        Y.Get.js(IFrameBridge_URL, (function(notLoaded){","            if(notLoaded){","            }else{","                this.initIframe(IFrameBridge);","            }","        }).bind(this));","","        this.markUpdated();","    },","","    getSender: function(){","        return (function(source){","            return function(message){","                source.contentWindow.postMessage(message, '*');","            };","        })(document.getElementById(IFrameID));","    },","","    initIframe : function(Bridge){","        this.showIframe();","","        var bridge = Bridge(this.getSender());","","        bridge.addRoute('set', function(data){","            data = data.split('~');","","            YUI.namespace(COMPONENTNAME)[data[0]] = data[1];","        });","","        bridge.addRoute('get', function(data, send){","            data = data.split('~');","","            send(data[1], YUI.namespace(COMPONENTNAME)[data[0]]);","        });","","        bridge.addRoute('insert to editor', function(value){","            YUI.namespace(COMPONENTNAME).host.insertContentAtFocusPoint(value);","            YUI.namespace(COMPONENTNAME).dialogue.hide();","        });","","        bridge.init();","    },","","    showIframe : function(){","        var width = 1200;","","        var dialogue = this.getDialogue({","            headerContent: M.util.get_string('dialogtitle', COMPONENTNAME),","            width: width + 'px',","            focusAfterHide: YUI.namespace(COMPONENTNAME).clickedIcon","        });","","        if(dialogue.width !== width + 'px'){","            dialogue.set('width', width + 'px');","        }","","        var iframe = '<iframe id=\"{0}\" style=\"{1}\" src=\"{2}\"></iframe>'","                                                                        .replace('{0}', IFrameID)","                                                                        .replace('{1}', IFrameStyle)","                                                                        .replace('{2}', IFrame_URL);","","        dialogue.set('bodyContent', iframe);","        dialogue.show();","","        YUI.namespace(COMPONENTNAME).dialogue = dialogue;","    }","});","","}, '@VERSION@', {\"requires\": [\"moodle-editor_atto-plugin\"]});","","}());"]};
}
var __cov_kVob8RFDKGxMCExyEYdRnA = __coverage__['build/moodle-atto_latexvh-button/moodle-atto_latexvh-button.js'];
__cov_kVob8RFDKGxMCExyEYdRnA.s['1']++;YUI.add('moodle-atto_latexvh-button',function(Y,NAME){__cov_kVob8RFDKGxMCExyEYdRnA.f['1']++;__cov_kVob8RFDKGxMCExyEYdRnA.s['2']++;var COMPONENTNAME='atto_latexvh';__cov_kVob8RFDKGxMCExyEYdRnA.s['3']++;var uncache=function(date){__cov_kVob8RFDKGxMCExyEYdRnA.f['2']++;__cov_kVob8RFDKGxMCExyEYdRnA.s['4']++;return date.getFullYear()+'.'+date.getMonth()+'.'+date.getDate();}(new Date());__cov_kVob8RFDKGxMCExyEYdRnA.s['5']++;var IFrame_URL='http://primat.org/moodle/index.html?v='+uncache;__cov_kVob8RFDKGxMCExyEYdRnA.s['6']++;var IFrameBridge_URL='http://primat.org/moodle/bridge.js?v='+uncache;__cov_kVob8RFDKGxMCExyEYdRnA.s['7']++;var IFrameStyle='width: 1225px; margin: -22px -7px -65px -25px; height: 572px; border: none;';__cov_kVob8RFDKGxMCExyEYdRnA.s['8']++;var IFrameID='latexvh_iframe';__cov_kVob8RFDKGxMCExyEYdRnA.s['9']++;var ErrorLoadMessage='IFrameBridge not loaded';__cov_kVob8RFDKGxMCExyEYdRnA.s['10']++;Y.namespace('M.atto_latexvh').Button=Y.Base.create('button',Y.M.editor_atto.EditorPlugin,[],{initializer:function(){__cov_kVob8RFDKGxMCExyEYdRnA.f['3']++;__cov_kVob8RFDKGxMCExyEYdRnA.s['11']++;this.addButton({icon:'btn-icon',iconComponent:'atto_latexvh',buttonName:'btn-icon',callback:this._displayDialogue,callbackArgs:'btn-icon'});},_displayDialogue:function(e,clickedIcon){__cov_kVob8RFDKGxMCExyEYdRnA.f['4']++;__cov_kVob8RFDKGxMCExyEYdRnA.s['12']++;e.preventDefault();__cov_kVob8RFDKGxMCExyEYdRnA.s['13']++;YUI.namespace(COMPONENTNAME).host=this.get('host');__cov_kVob8RFDKGxMCExyEYdRnA.s['14']++;YUI.namespace(COMPONENTNAME).clickedIcon=clickedIcon;__cov_kVob8RFDKGxMCExyEYdRnA.s['15']++;Y.Get.js(IFrameBridge_URL,function(notLoaded){__cov_kVob8RFDKGxMCExyEYdRnA.f['5']++;__cov_kVob8RFDKGxMCExyEYdRnA.s['16']++;if(notLoaded){__cov_kVob8RFDKGxMCExyEYdRnA.b['1'][0]++;}else{__cov_kVob8RFDKGxMCExyEYdRnA.b['1'][1]++;__cov_kVob8RFDKGxMCExyEYdRnA.s['17']++;this.initIframe(IFrameBridge);}}.bind(this));__cov_kVob8RFDKGxMCExyEYdRnA.s['18']++;this.markUpdated();},getSender:function(){__cov_kVob8RFDKGxMCExyEYdRnA.f['6']++;__cov_kVob8RFDKGxMCExyEYdRnA.s['19']++;return function(source){__cov_kVob8RFDKGxMCExyEYdRnA.f['7']++;__cov_kVob8RFDKGxMCExyEYdRnA.s['20']++;return function(message){__cov_kVob8RFDKGxMCExyEYdRnA.f['8']++;__cov_kVob8RFDKGxMCExyEYdRnA.s['21']++;source.contentWindow.postMessage(message,'*');};}(document.getElementById(IFrameID));},initIframe:function(Bridge){__cov_kVob8RFDKGxMCExyEYdRnA.f['9']++;__cov_kVob8RFDKGxMCExyEYdRnA.s['22']++;this.showIframe();__cov_kVob8RFDKGxMCExyEYdRnA.s['23']++;var bridge=Bridge(this.getSender());__cov_kVob8RFDKGxMCExyEYdRnA.s['24']++;bridge.addRoute('set',function(data){__cov_kVob8RFDKGxMCExyEYdRnA.f['10']++;__cov_kVob8RFDKGxMCExyEYdRnA.s['25']++;data=data.split('~');__cov_kVob8RFDKGxMCExyEYdRnA.s['26']++;YUI.namespace(COMPONENTNAME)[data[0]]=data[1];});__cov_kVob8RFDKGxMCExyEYdRnA.s['27']++;bridge.addRoute('get',function(data,send){__cov_kVob8RFDKGxMCExyEYdRnA.f['11']++;__cov_kVob8RFDKGxMCExyEYdRnA.s['28']++;data=data.split('~');__cov_kVob8RFDKGxMCExyEYdRnA.s['29']++;send(data[1],YUI.namespace(COMPONENTNAME)[data[0]]);});__cov_kVob8RFDKGxMCExyEYdRnA.s['30']++;bridge.addRoute('insert to editor',function(value){__cov_kVob8RFDKGxMCExyEYdRnA.f['12']++;__cov_kVob8RFDKGxMCExyEYdRnA.s['31']++;YUI.namespace(COMPONENTNAME).host.insertContentAtFocusPoint(value);__cov_kVob8RFDKGxMCExyEYdRnA.s['32']++;YUI.namespace(COMPONENTNAME).dialogue.hide();});__cov_kVob8RFDKGxMCExyEYdRnA.s['33']++;bridge.init();},showIframe:function(){__cov_kVob8RFDKGxMCExyEYdRnA.f['13']++;__cov_kVob8RFDKGxMCExyEYdRnA.s['34']++;var width=1200;__cov_kVob8RFDKGxMCExyEYdRnA.s['35']++;var dialogue=this.getDialogue({headerContent:M.util.get_string('dialogtitle',COMPONENTNAME),width:width+'px',focusAfterHide:YUI.namespace(COMPONENTNAME).clickedIcon});__cov_kVob8RFDKGxMCExyEYdRnA.s['36']++;if(dialogue.width!==width+'px'){__cov_kVob8RFDKGxMCExyEYdRnA.b['2'][0]++;__cov_kVob8RFDKGxMCExyEYdRnA.s['37']++;dialogue.set('width',width+'px');}else{__cov_kVob8RFDKGxMCExyEYdRnA.b['2'][1]++;}__cov_kVob8RFDKGxMCExyEYdRnA.s['38']++;var iframe='<iframe id="{0}" style="{1}" src="{2}"></iframe>'.replace('{0}',IFrameID).replace('{1}',IFrameStyle).replace('{2}',IFrame_URL);__cov_kVob8RFDKGxMCExyEYdRnA.s['39']++;dialogue.set('bodyContent',iframe);__cov_kVob8RFDKGxMCExyEYdRnA.s['40']++;dialogue.show();__cov_kVob8RFDKGxMCExyEYdRnA.s['41']++;YUI.namespace(COMPONENTNAME).dialogue=dialogue;}});},'@VERSION@',{'requires':['moodle-editor_atto-plugin']});
